!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(e){var t=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),r=document.querySelector("#timer-seconds"),o=setInterval((function(){var i,a=(i=(new Date(e).getTime()-(new Date).getTime())/1e3,{seconds:Math.floor(i%60),minutes:Math.floor(i/60%60),hours:Math.floor(i/60/60),timeRemaining:i});a.hours<10&&(a.hours="0"+a.hours),a.minutes<10&&(a.minutes="0"+a.minutes),a.seconds<10&&(a.seconds="0"+a.seconds),a.seconds>=0?(t.textContent=a.hours,n.textContent=a.minutes,r.textContent=a.seconds):(t.textContent="00",n.textContent="00",r.textContent="00"),a.timeRemaining<=0&&clearInterval(o)}),1e3)},o=function(){var e=document.querySelector("menu");document.querySelector("body").addEventListener("click",(function(t){!t.target.closest("menu")&&!t.target.closest(".menu")||t.target.closest(".close-btn")||"A"===t.target.nodeName?e.classList.remove("active-menu"):t.target.closest(".menu")&&e.classList.toggle("active-menu")}))},i=function(){var e=0,t=document.querySelector(".popup"),n=document.querySelectorAll(".popup-btn"),r=document.querySelector(".popup-close");function o(){e<1&&(e+=.05,t.style.opacity=e,requestAnimationFrame(o))}function i(){e>0?(e-=.05,t.style.opacity=e,requestAnimationFrame(i)):t.style.display=""}t.style.opacity=0,n.forEach((function(e){e.addEventListener("click",(function(){t.style.display="block",o()}))})),t.addEventListener("click",(function(e){e.target!==t&&e.target!==r||i()}))},a=function(){var e=[].slice.call(document.querySelectorAll('a[href*="#"]'));e.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=document.querySelector(e.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,r=setInterval((function(){var e=n/20;e>window.pageYOffset-n&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,e):(window.scrollTo(0,n),clearInterval(r))}),15)}))}))},c=function(){var e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),n=document.querySelectorAll(".service-tab");e.addEventListener("click",(function(e){var r=e.target;(r=r.closest(".service-header-tab"))&&t.forEach((function(e,o){var i;e===r&&(i=o,n.forEach((function(e,r){i===r?(t[r].classList.add("active"),n[r].classList.remove("d-none")):(t[r].classList.remove("active"),n[r].classList.add("d-none"))})))}))}))},s=function(){var e,t=document.querySelectorAll(".portfolio-item"),n=document.querySelectorAll(".dot"),r=document.querySelector(".portfolio-content"),o=0,i=function(e,t,n){e[t].classList.remove(n)},a=function(e,t,n){e[t].classList.add(n)},c=function(){i(t,o,"portfolio-item-active"),i(n,o,"dot-active"),++o>=t.length&&(o=0),a(t,o,"portfolio-item-active"),a(n,o,"dot-active")},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;e=setInterval(c,t)};r.addEventListener("click",(function(e){e.preventDefault();var r=e.target;r.matches(".portfolio-btn, .dot")&&(i(t,o,"portfolio-item-active"),i(n,o,"dot-active"),r.matches("#arrow-right")?o++:r.matches("#arrow-left")?o--:r.matches(".dot")&&n.forEach((function(e,t){e===r&&(o=t)})),o>=t.length&&(o=0),o<0&&(o=t.length-1),a(t,o,"portfolio-item-active"),a(n,o,"dot-active"))})),r.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),r.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s()})),s(2e3)},l=function(){document.querySelectorAll(".command__photo");var e=document.getElementById("command");e.addEventListener("mouseover",(function(e){var t=e.target;if(t.matches(".command__photo")){var n=t.src;t.src=t.dataset.img,t.dataset.img=n}})),e.addEventListener("mouseout",(function(e){var t=e.target;if(t.matches(".command__photo")){var n=t.src;t.src=t.dataset.img,t.dataset.img=n}}))},u=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},m=function(e,t){var n=document.getElementById("form".concat(e)),r=document.createElement("div"),o=n.querySelectorAll("input"),i=function(e){if(200!==e.status)throw new Error("status network not 200");r.textContent="Спасибо! Мы скоро с вами свяжемся!",o.forEach((function(e){return e.value=""}))},a=function(e){r.textContent="Что-то пошло не так...",console.error(e)};r.style.color="white",r.textContent="Загрузка...",n.addEventListener("submit",(function(e){console.log("submitdo");var t=n.querySelectorAll("input"),o=0;if(t.forEach((function(e){e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&(o+=1)})),o)console.log(o);else{e.preventDefault(),n.appendChild(r);var c=new FormData(n),s={},l=!0,m=!1,d=void 0;try{for(var f,v=c.entries()[Symbol.iterator]();!(l=(f=v.next()).done);l=!0){var h=f.value;s[h[0]]=h[1]}}catch(e){m=!0,d=e}finally{try{l||null==v.return||v.return()}finally{if(m)throw d}}u(s).then(i).catch(a)}}))},d=function(){var e=document.querySelector(".calc-block"),t=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),o=document.querySelector(".calc-count"),i=document.querySelector("#total"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,i=0,a=1,s=1,l=+t.options[t.selectedIndex].value,u=+n.value;o.value>1&&(a+=(o.value-1)/10),r.value<5&&r.value?s*=2:r.value<10&&r.value&&(s*=1.5),l&&u&&(i=Math.floor(e*l*u*a*s)),c(i,0)},c=function e(t,n){i.textContent=n,n<t&&(n++,requestAnimationFrame((function(){return e(t,n)})))};e.addEventListener("change",(function(e){var i=e.target;i!==t&&i!==n&&i!==r&&i!==o||a()}))};function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(t){var n=t.selector,r=t.pattern,o=void 0===r?{}:r,i=t.method,a=t.num,c=t.errors;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.form=document.querySelector(n),this.pattern=o,this.method=i,this.num=a,this.errors=c,this.elementsForm=f(this.form.elements).filter((function(e){return"button"!==e.tagName.toLowerCase()&&"button"!==e.type})),this.error=new Set}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this;this.applyStyle(),this.setPattern(),this.elementsForm.forEach((function(t){return t.addEventListener("change",e.checkIt.bind(e))})),this.form.addEventListener("submit",(function(t){e.error.size&&t.preventDefault()})),this.elementsForm.forEach((function(e){return e.addEventListener("input",(function(){this.dataset.russian&&(this.value=this.value.replace(/[^а-яё\s]*/gi,""))}))}))}},{key:"isValid",value:function(e){var t=this,n={notEmpty:function(e){return""!==e.value.trim()},pattern:function(e,t){return t.test(e.value)}};if(this.method){var r=this.method[e.id];if(r)return r.every((function(r){return n[r[0]](e,t.pattern[r[1]])}))}else console.warn("Необходимо передать id полей ввода и методы проверки этих полей");return!0}},{key:"checkIt",value:function(e){var t=e.target;this.isValid(t)?(this.showSuccess(t),this.error.delete(t),this.errors=this.error.size,console.log(this.errors)):(this.showError(t),this.error.add(t),this.errors=this.error.size,console.log(this.errors))}},{key:"showError",value:function(e){if(e.classList.remove("success"),e.classList.add("error"),!e.nextElementSibling||!e.nextElementSibling.classList.contains("validator-error")){var t=document.createElement("div");t.textContent="Ошибка в этом поле",t.classList.add("validator-error"),e.insertAdjacentElement("afterend",t)}}},{key:"showSuccess",value:function(e){e.classList.remove("error"),e.classList.add("success"),e.nextElementSibling&&e.nextElementSibling.classList.contains("validator-error")&&e.nextElementSibling.remove()}},{key:"applyStyle",value:function(){var e=document.createElement("style");e.textContent="\n    input.success {\n      border: 2px solid green !Important\n    }\n    input.error {\n      border: 2px solid red !Important\n    }\n    .validator-error {\n      font-size: 12px;\n      font-family: sans-serif;\n      color: red;\n      margin: -20px\n    } ",document.head.appendChild(e)}},{key:"setPattern",value:function(){this.pattern.phone||(this.pattern.phone=/^\+?[78]([-()]*\d){10}$/),this.pattern.email||(this.pattern.email=/^\w+@\w+\.\w{2,}$/)}}])&&v(t.prototype,n),r&&v(t,r),e}(),p=new Date,y=p.getDate(),g=p.getMonth(),b=p.getFullYear();p.setFullYear(b,g,y+1),p.setHours(0,0,0),r(p),o();screen.width>=768&&i(),a(),c(),s(),l();var E=new h({selector:"#form1",pattern:{},method:{"form1-phone":[["notEmpty"],["pattern","phone"]],"form1-email":[["pattern","email"]],"form1-name":[["notEmpty"]]},num:1,errors:0});E.init();var S=new h({selector:"#form2",pattern:{},method:{"form2-phone":[["notEmpty"],["pattern","phone"]],"form2-email":[["pattern","email"]],"form2-name":[["notEmpty"]]},num:2,errors:0});S.init();var w=new h({selector:"#form3",pattern:{},method:{"form3-phone":[["notEmpty"],["pattern","phone"]],"form3-email":[["pattern","email"]],"form3-name":[["notEmpty"]]},num:3,errors:0});w.init(),m("1",E.errors),m("2",S.errors),m("3",w.errors),d(),console.log("НИЧЕГО НЕ РАБОТАЕТ")}]);